<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>netstat command :: Terminal</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="netstat command description" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/linux/command/2020-08-18-netstat/" />




<link rel="stylesheet" href="/assets/style.css">






<link rel="apple-touch-icon" href="/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="netstat command">
<meta property="og:description" content="netstat command description" />
<meta property="og:url" content="/posts/linux/command/2020-08-18-netstat/" />
<meta property="og:site_name" content="Terminal" />

  
    <meta property="og:image" content="/img/favicon/orange.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2020-08-18 00:00:00 &#43;0000 UTC" />












</head>
<body class="orange">


<div class="container full headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Terminal
  </div>
</a>

    </div>
    
      <div class="menu-trigger">menu</div>
    
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/showcase">Showcase</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/showcase">Showcase</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="/posts/linux/command/2020-08-18-netstat/">netstat command</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2020-08-18
        
      </span>
    
    
    
  </div>

  
  <span class="post-tags">
    
    #<a href="/tags/command/">command</a>&nbsp;
    
    #<a href="/tags/linux/">linux</a>&nbsp;
    
    #<a href="/tags/netstat/">netstat</a>&nbsp;
    
  </span>
  
  


  
    <div class="table-of-contents">
      <h2>
        
          Table of Contents
        
      </h2>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#기본-사용법">기본 사용법</a></li>
    <li><a href="#tldr">TLDR</a></li>
    <li><a href="#활용">활용</a></li>
    <li><a href="#help">Help</a></li>
    <li><a href="#참고">참고</a></li>
  </ul>
</nav>
    </div>
  

  <div class="post-content"><div>
        <p>linux의 <code>netstat</code> 명령어를 통해 현재 연결된 네트워크 상태, 라우팅 테이블,
인터페이스 상태, IP Masquerade, 멀티캐스트 멤버쉽 등을 확인 할 수 있습니다.</p>
<h2 id="기본-사용법">기본 사용법<a href="#기본-사용법" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$&gt; netstat
Active Internet connections <span style="color:#f92672">(</span>w/o servers<span style="color:#f92672">)</span>
Proto Recv-Q Send-Q Local Address           Foreign Address         State
tcp        <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">0</span> 192.168.0.50:38608      nrt20s21-in-f10.1:https ESTABLISHED
...
Active UNIX domain sockets <span style="color:#f92672">(</span>w/o servers<span style="color:#f92672">)</span>
Proto RefCnt Flags       Type       State         I-Node   Path
unix  <span style="color:#ae81ff">2</span>      <span style="color:#f92672">[</span> <span style="color:#f92672">]</span>         DGRAM                    <span style="color:#ae81ff">34946</span>    /run/user/1000/systemd/notify
unix  <span style="color:#ae81ff">3</span>      <span style="color:#f92672">[</span> <span style="color:#f92672">]</span>         DGRAM                    <span style="color:#ae81ff">19785</span>    /run/systemd/notify
unix  <span style="color:#ae81ff">3</span>      <span style="color:#f92672">[</span> <span style="color:#f92672">]</span>         SEQPACKET  CONNECTED     <span style="color:#ae81ff">238454</span>   @0002d
...
</code></pre></div><p>출력된 정보는 다음과 같습니다.</p>
<ul>
<li><code>Active Internet Connections</code> : TCP, UDP, RAW로 연결된 목록
<ul>
<li><code>Proto</code>           : 프로토콜</li>
<li><code>Recv-Q</code>          : 소켓에 연결된 사용자 프로그램에서 복사하지 않는 받은 바이트 수</li>
<li><code>Send-Q</code>          : 원격 호스트에서 승인하지 않은 바이트 수</li>
<li><code>Local Address</code>   : 로컬 주소와 포트 번호</li>
<li><code>Foreign Address</code> : 원격 주소와 포트 번호</li>
</ul>
</li>
</ul>
<blockquote>
<p><code>-n(--numeric)</code> 옵션을 사용하지 않으면 소켓 주소는 표준 호스트 이름(FQDN)으로 확장되고
포트 번호는 해당 서비스 이름으로 변환된다</p>
</blockquote>
<ul>
<li>
<p><code>State</code>           : 소켓 상태</p>
<ul>
<li><code>ESTABLISHED</code> : 소켓이 연결된 상태</li>
<li><code>SYN_SENT</code>    : 소켓이 연결을 시도하고 있는 상태</li>
<li><code>SYN_RECV</code>    : 네트워크 연결 요청을 받은 상태</li>
<li><code>FIN_WAIT1</code>   : 소켓이 닫히고 연결이 종료되고 있는 상태</li>
<li><code>FIN_WAIT2</code>   : 연결이 닫히고 소켓이 원격으로부터 종료를 기다리는 상태</li>
<li><code>TIME_WAIT</code>   : 연결 종료후 소켓이 네트워크에 있는 패킷을 처리하기 위해 대기중인 상태</li>
<li><code>CLOSE</code>       : 소켓이 사용되지 않는 상태</li>
<li><code>CLOSE_WAIT</code>  : 종료 대기중인 상태</li>
<li><code>LAST_ACK</code>    : 원격 연결 종료 요구 승인을 기다리는 상태</li>
<li><code>LISTEN</code>      : 연결요청에 대한 응답준비가 되어 있는 상태</li>
<li><code>CLOSING</code>     : 두 소켓이 모두 종료되었지만 모든 데이터가 전송되지 않는 상태(메시지 유실 상태)</li>
<li><code>UNKNOWN</code>     : 소켓 상태를 알 수 없음</li>
</ul>
</li>
<li>
<p><code>Active UNIX domain sockets (w/o servers)</code> : 도메인 소켓으로 연결된 목록</p>
<ul>
<li><code>Proto</code>  : 프로토콜</li>
<li><code>RefCnt</code> : 참조 숫자</li>
<li><code>Flags</code>  : 표시되는 플래그는 ACC(SO_ACCEPTON), W(SO_WAITDATA), N(SO_NOSPACE)</li>
<li><code>Type</code>   : 소켓 액세스 유형
<ul>
<li><code>SOCK_DGRAM</code>     : 소켓이 Datagram(연결없는) 모드에 사용</li>
<li><code>SOCK_STREAM</code>    : Stream(연결) 소켓</li>
<li><code>SOCK_RAW</code>       : RAW 소켓</li>
<li><code>SOCK_RDM</code>       : 안정적으로 전달 된 메시지</li>
<li><code>SOCK_SEQPACKET</code> : 순차 패킷 소켓</li>
<li><code>SOCK_PACKET</code>    : RAW 인터페이스 액세스 소켓</li>
<li><code>UNKNOWN</code>        : 모름</li>
</ul>
</li>
<li><code>State</code>
<ul>
<li><code>FREE</code>          : 할당되지 않은 소켓</li>
<li><code>LISTENING</code>     : 연결 요청에 대한 응답 준비가 되어 있는 상태</li>
<li><code>CONNECTING</code>    : 연결중인 상태</li>
<li><code>CONNECTED</code>     : 연결된 상태</li>
<li><code>DISCONNECTING</code> : 연결이 해제되고 있는 상태</li>
<li><code>(empty)</code>       : 소켓이 다른 소켓에 연결되어 있지 않은 상태</li>
<li><code>UNKNOWN</code>       : 절대로 나와서는 안되는 상태</li>
</ul>
</li>
<li><code>I-Node</code> : 아이노드</li>
<li><code>Path</code>   : 소켓에 연결된 해당 프로세스의 경로</li>
</ul>
</li>
</ul>
<h2 id="tldr">TLDR<a href="#tldr" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$&gt; tldr netstat

  netstat

  Displays network-related information such as open connections, open socket ports, etc.

  - List all ports:
    netstat -a

  - List all listening ports:
    netstat -l

  - List listening TCP ports:
    netstat -t

  - Display PID and program names:
    netstat -p

  - List information continuously:
    netstat -c

  - List routes and <span style="color:#66d9ef">do</span> not resolve IP to hostname:
    netstat -rn

  - List listening TCP and UDP ports <span style="color:#f92672">(</span>+ user and process <span style="color:#66d9ef">if</span> you<span style="color:#960050;background-color:#1e0010">&#39;</span>re root<span style="color:#f92672">)</span>:
    netstat -lepunt

  - Print the routing table:
    netstat -nr
</code></pre></div><h2 id="활용">활용<a href="#활용" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$&gt; netstat -anp
<span style="color:#f92672">(</span>Not all processes could be identified, non-owned process info
 will not be shown, you would have to be root to see it all.<span style="color:#f92672">)</span>
Active Internet connections <span style="color:#f92672">(</span>servers and established<span style="color:#f92672">)</span>
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">0</span> 0.0.0.0:8009            0.0.0.0:*               LISTEN      25272/java
...
Active UNIX domain sockets <span style="color:#f92672">(</span>servers and established<span style="color:#f92672">)</span>
Proto RefCnt Flags       Type       State         I-Node   PID/Program name    Path
unix  <span style="color:#ae81ff">2</span>      <span style="color:#f92672">[</span> <span style="color:#f92672">]</span>         DGRAM                    <span style="color:#ae81ff">34946</span>    2800/systemd        /run/user/1000/systemd/notify
unix  <span style="color:#ae81ff">2</span>      <span style="color:#f92672">[</span> ACC <span style="color:#f92672">]</span>     STREAM     LISTENING     <span style="color:#ae81ff">34947</span>    2800/systemd        /run/user/1000/systemd/private
...
</code></pre></div><h2 id="help">Help<a href="#help" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$&gt; netstat --help
usage: netstat <span style="color:#f92672">[</span>-vWeenNcCF<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>&lt;Af&gt;<span style="color:#f92672">]</span> -r         netstat <span style="color:#f92672">{</span>-V|--version|-h|--help<span style="color:#f92672">}</span>
       netstat <span style="color:#f92672">[</span>-vWnNcaeol<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>&lt;Socket&gt; ...<span style="color:#f92672">]</span>
       netstat <span style="color:#f92672">{</span> <span style="color:#f92672">[</span>-vWeenNac<span style="color:#f92672">]</span> -i | <span style="color:#f92672">[</span>-cWnNe<span style="color:#f92672">]</span> -M | -s <span style="color:#f92672">}</span>

        -r, --route              display routing table
        -i, --interfaces         display interface table
        -g, --groups             display multicast group memberships
        -s, --statistics         display networking statistics <span style="color:#f92672">(</span>like SNMP<span style="color:#f92672">)</span>
        -M, --masquerade         display masqueraded connections

        -v, --verbose            be verbose
        -W, --wide               don<span style="color:#e6db74">&#39;t truncate IP addresses
</span><span style="color:#e6db74">        -n, --numeric            don&#39;</span>t resolve names
        --numeric-hosts          don<span style="color:#e6db74">&#39;t resolve host names
</span><span style="color:#e6db74">        --numeric-ports          don&#39;</span>t resolve port names
        --numeric-users          don<span style="color:#e6db74">&#39;t resolve user names
</span><span style="color:#e6db74">        -N, --symbolic           resolve hardware names
</span><span style="color:#e6db74">        -e, --extend             display other/more information
</span><span style="color:#e6db74">        -p, --programs           display PID/Program name for sockets
</span><span style="color:#e6db74">        -c, --continuous         continuous listing
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">        -l, --listening          display listening server sockets
</span><span style="color:#e6db74">        -a, --all, --listening   display all sockets (default: connected)
</span><span style="color:#e6db74">        -o, --timers             display timers
</span><span style="color:#e6db74">        -F, --fib                display Forwarding Information Base (default)
</span><span style="color:#e6db74">        -C, --cache              display routing cache instead of FIB
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  &lt;Socket&gt;={-t|--tcp} {-u|--udp} {-w|--raw} {-x|--unix} --ax25 --ipx --netrom
</span><span style="color:#e6db74">  &lt;AF&gt;=Use &#39;</span>-6|-4<span style="color:#e6db74">&#39; or &#39;</span>-A &lt;af&gt;<span style="color:#e6db74">&#39; or &#39;</span>--&lt;af&gt;<span style="color:#960050;background-color:#1e0010">&#39;</span>; default: inet
  List of possible address families <span style="color:#f92672">(</span>which support routing<span style="color:#f92672">)</span>:
    inet <span style="color:#f92672">(</span>DARPA Internet<span style="color:#f92672">)</span> inet6 <span style="color:#f92672">(</span>IPv6<span style="color:#f92672">)</span> ax25 <span style="color:#f92672">(</span>AMPR AX.25<span style="color:#f92672">)</span> 
    netrom <span style="color:#f92672">(</span>AMPR NET/ROM<span style="color:#f92672">)</span> ipx <span style="color:#f92672">(</span>Novell IPX<span style="color:#f92672">)</span> ddp <span style="color:#f92672">(</span>Appletalk DDP<span style="color:#f92672">)</span> 
    x25 <span style="color:#f92672">(</span>CCITT X.25<span style="color:#f92672">)</span> 
</code></pre></div><h2 id="참고">참고<a href="#참고" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<ul>
<li><a href="http://www.linuxlab.co.kr/docs/5-4.htm" title="IP Masquerade">IP Masquerade</a>{:target=&ldquo;blank&rdquo;}</li>
<li><a href="https://en.wikipedia.org/wiki/Inode" title="I-Node">I-Node</a>{:target=&ldquo;blank&rdquo;}</li>
</ul>

      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="/posts/linux/command/2020-08-18-df/">
                <span class="button__icon">←</span>
                <span class="button__text">df command</span>
            </a>
        </span>
        
        
        <span class="button next">
            <a href="/posts/linux/command/2020-08-14-iostat/">
                <span class="button__text">iostat command</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2022 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>







  
</div>

</body>
</html>
