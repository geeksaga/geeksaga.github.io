<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>lsof command :: Terminal</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="lsof command description" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/linux/command/2020-09-09-lsof/" />




<link rel="stylesheet" href="/assets/style.css">






<link rel="apple-touch-icon" href="/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="lsof command">
<meta property="og:description" content="lsof command description" />
<meta property="og:url" content="/posts/linux/command/2020-09-09-lsof/" />
<meta property="og:site_name" content="Terminal" />

  
    <meta property="og:image" content="/img/favicon/orange.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2020-09-09 00:00:00 &#43;0000 UTC" />












</head>
<body class="orange">


<div class="container full headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Terminal
  </div>
</a>

    </div>
    
      <div class="menu-trigger">menu</div>
    
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/showcase">Showcase</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/showcase">Showcase</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="/posts/linux/command/2020-09-09-lsof/">lsof command</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2020-09-09
        
      </span>
    
    
    
  </div>

  
  <span class="post-tags">
    
    #<a href="/tags/command/">command</a>&nbsp;
    
    #<a href="/tags/linux/">linux</a>&nbsp;
    
    #<a href="/tags/lsof/">lsof</a>&nbsp;
    
  </span>
  
  


  
    <div class="table-of-contents">
      <h2>
        
          Table of Contents
        
      </h2>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#기본-사용법">기본 사용법</a></li>
    <li><a href="#응용">응용</a></li>
    <li><a href="#tldr">TLDR</a></li>
    <li><a href="#help">Help</a></li>
  </ul>
</nav>
    </div>
  

  <div class="post-content"><div>
        <p>linux의 <code>lsof</code> 명령어는 열려 있는 파일과 해당하는 프로세스 목록을 보여줍니다.</p>
<h2 id="기본-사용법">기본 사용법<a href="#기본-사용법" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$&gt; lsof
COMMAND     PID   TID   USER   FD      TYPE             DEVICE   SIZE/OFF       NODE NAME
...
chrome      <span style="color:#ae81ff">687</span>        geeksaga 15r      CHR                1,9        0t0         <span style="color:#ae81ff">11</span> /dev/urandom
chrome      <span style="color:#ae81ff">687</span>        geeksaga 16r     FIFO               0,12        0t0  <span style="color:#ae81ff">114907104</span> pipe
chrome      <span style="color:#ae81ff">687</span>        geeksaga 17w     FIFO               0,12        0t0  <span style="color:#ae81ff">114907104</span> pipe
chrome      <span style="color:#ae81ff">687</span>        geeksaga 18u     unix 0x0000000000000000        0t0  <span style="color:#ae81ff">114913656</span> type<span style="color:#f92672">=</span>STREAM
chrome      <span style="color:#ae81ff">687</span>        geeksaga 19u     unix 0x0000000000000000        0t0   <span style="color:#ae81ff">66804623</span> type<span style="color:#f92672">=</span>SEQPACKET
...
</code></pre></div><h2 id="응용">응용<a href="#응용" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<ul>
<li>특정 포트를 사용하고 있는 프로세스 검색</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$&gt; lsof -i :8081
COMMAND    PID   USER   FD   TYPE    DEVICE SIZE/OFF NODE NAME
qemu-syst <span style="color:#ae81ff">3805</span> geeksaga 155u  IPv4 <span style="color:#ae81ff">140089534</span>      0t0  TCP localhost:33874-&gt;localhost:tproxy <span style="color:#f92672">(</span>ESTABLISHED<span style="color:#f92672">)</span>
node      <span style="color:#ae81ff">3846</span> geeksaga  21u  IPv6 <span style="color:#ae81ff">139672765</span>      0t0  TCP *:tproxy <span style="color:#f92672">(</span>LISTEN<span style="color:#f92672">)</span>
node      <span style="color:#ae81ff">3846</span> geeksaga  51u  IPv6 <span style="color:#ae81ff">140096143</span>      0t0  TCP localhost:tproxy-&gt;localhost:33916 <span style="color:#f92672">(</span>ESTABLISHED<span style="color:#f92672">)</span>
...
</code></pre></div><h2 id="tldr">TLDR<a href="#tldr" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$&gt; tldr lsof

  lsof

  Lists open files and the corresponding processes.
  Note: Root privileges <span style="color:#f92672">(</span>or sudo<span style="color:#f92672">)</span> is required to list files opened by others.

  - Find the processes that have a given file open:
    lsof path/to/file

  - Find the process that opened a local internet port:
    lsof -i :port

  - Only output the process ID <span style="color:#f92672">(</span>PID<span style="color:#f92672">)</span>:
    lsof -t path/to/file

  - List files opened by the given user:
    lsof -u username

  - List files opened by the given command or process:
    lsof -c process_or_command_name

  - List files opened by a specific process, given its PID:
    lsof -p PID

  - List open files in a directory:
    lsof +D path/to/directory

  - Find the process that is listening on a local TCP port:
    lsof -iTCP:port -sTCP:LISTEN
</code></pre></div><h2 id="help">Help<a href="#help" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$&gt; lsof --help
lsof 4.89
 latest revision: ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/
 latest FAQ: ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/FAQ
 latest man page: ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/lsof_man
 usage: <span style="color:#f92672">[</span>-?abhKlnNoOPRtUvVX<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>+|-c c<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>+|-d s<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>+D D<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>+|-E<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>+|-e s<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>+|-f<span style="color:#f92672">[</span>gG<span style="color:#f92672">]]</span>
 <span style="color:#f92672">[</span>-F <span style="color:#f92672">[</span>f<span style="color:#f92672">]]</span> <span style="color:#f92672">[</span>-g <span style="color:#f92672">[</span>s<span style="color:#f92672">]]</span> <span style="color:#f92672">[</span>-i <span style="color:#f92672">[</span>i<span style="color:#f92672">]]</span> <span style="color:#f92672">[</span>+|-L <span style="color:#f92672">[</span>l<span style="color:#f92672">]]</span> <span style="color:#f92672">[</span>+m <span style="color:#f92672">[</span>m<span style="color:#f92672">]]</span> <span style="color:#f92672">[</span>+|-M<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-o <span style="color:#f92672">[</span>o<span style="color:#f92672">]]</span> <span style="color:#f92672">[</span>-p s<span style="color:#f92672">]</span>
 <span style="color:#f92672">[</span>+|-r <span style="color:#f92672">[</span>t<span style="color:#f92672">]]</span> <span style="color:#f92672">[</span>-s <span style="color:#f92672">[</span>p:s<span style="color:#f92672">]]</span> <span style="color:#f92672">[</span>-S <span style="color:#f92672">[</span>t<span style="color:#f92672">]]</span> <span style="color:#f92672">[</span>-T <span style="color:#f92672">[</span>t<span style="color:#f92672">]]</span> <span style="color:#f92672">[</span>-u s<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>+|-w<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-x <span style="color:#f92672">[</span>fl<span style="color:#f92672">]]</span> <span style="color:#f92672">[</span>--<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>names<span style="color:#f92672">]</span>
Defaults in parentheses; comma-separated set <span style="color:#f92672">(</span>s<span style="color:#f92672">)</span> items; dash-separated ranges.
  -?|-h list help          -a AND selections <span style="color:#f92672">(</span>OR<span style="color:#f92672">)</span>     -b avoid kernel blocks
  -c c  cmd c ^c /c/<span style="color:#f92672">[</span>bix<span style="color:#f92672">]</span>  +c w  COMMAND width <span style="color:#f92672">(</span>9<span style="color:#f92672">)</span>    +d s  dir s files
  -d s  <span style="color:#66d9ef">select</span> by FD set   +D D  dir D tree *SLOW?*   +|-e s  exempt s *RISKY*
  -i <span style="color:#66d9ef">select</span> IPv<span style="color:#f92672">[</span>46<span style="color:#f92672">]</span> files  -K list tasKs <span style="color:#f92672">(</span>threads<span style="color:#f92672">)</span>    -l list UID numbers
  -n no host names         -N <span style="color:#66d9ef">select</span> NFS files        -o list file offset
  -O no overhead *RISKY*   -P no port names           -R list paRent PID
  -s list file size        -t terse listing           -T disable TCP/TPI info
  -U <span style="color:#66d9ef">select</span> Unix socket    -v list version info       -V verbose search
  +|-w  Warnings <span style="color:#f92672">(</span>+<span style="color:#f92672">)</span>       -X skip TCP&amp;UDP* files     -Z Z  context <span style="color:#f92672">[</span>Z<span style="color:#f92672">]</span>
  -- end option scan     
  -E display endpoint info              +E display endpoint info and files
  +f|-f  +filesystem or -file names     +|-f<span style="color:#f92672">[</span>gG<span style="color:#f92672">]</span> flaGs 
  -F <span style="color:#f92672">[</span>f<span style="color:#f92672">]</span> <span style="color:#66d9ef">select</span> fields; -F? <span style="color:#66d9ef">for</span> help  
  +|-L <span style="color:#f92672">[</span>l<span style="color:#f92672">]</span> list <span style="color:#f92672">(</span>+<span style="color:#f92672">)</span> suppress <span style="color:#f92672">(</span>-<span style="color:#f92672">)</span> link counts &lt; l <span style="color:#f92672">(</span>0 <span style="color:#f92672">=</span> all; default <span style="color:#f92672">=</span> 0<span style="color:#f92672">)</span>
                                        +m <span style="color:#f92672">[</span>m<span style="color:#f92672">]</span> use|create mount supplement
  +|-M   portMap registration <span style="color:#f92672">(</span>-<span style="color:#f92672">)</span>       -o o   o 0t offset digits <span style="color:#f92672">(</span>8<span style="color:#f92672">)</span>
  -p s   exclude<span style="color:#f92672">(</span>^<span style="color:#f92672">)</span>|<span style="color:#66d9ef">select</span> PIDs         -S <span style="color:#f92672">[</span>t<span style="color:#f92672">]</span> t second stat timeout <span style="color:#f92672">(</span>15<span style="color:#f92672">)</span>
  -T qs TCP/TPI Q,St <span style="color:#f92672">(</span>s<span style="color:#f92672">)</span> info
  -g <span style="color:#f92672">[</span>s<span style="color:#f92672">]</span> exclude<span style="color:#f92672">(</span>^<span style="color:#f92672">)</span>|<span style="color:#66d9ef">select</span> and print process group IDs
  -i i   <span style="color:#66d9ef">select</span> by IPv<span style="color:#f92672">[</span>46<span style="color:#f92672">]</span> address: <span style="color:#f92672">[</span>46<span style="color:#f92672">][</span>proto<span style="color:#f92672">][</span>@host|addr<span style="color:#f92672">][</span>:svc_list|port_list<span style="color:#f92672">]</span>
  +|-r <span style="color:#f92672">[</span>t<span style="color:#f92672">[</span>m&lt;fmt&gt;<span style="color:#f92672">]]</span> repeat every t seconds <span style="color:#f92672">(</span>15<span style="color:#f92672">)</span>;  + <span style="color:#66d9ef">until</span> no files, - forever.
       An optional suffix to t is m&lt;fmt&gt;; m must separate t from &lt;fmt&gt; and
      &lt;fmt&gt; is an strftime<span style="color:#f92672">(</span>3<span style="color:#f92672">)</span> format <span style="color:#66d9ef">for</span> the marker line.
  -s p:s  exclude<span style="color:#f92672">(</span>^<span style="color:#f92672">)</span>|<span style="color:#66d9ef">select</span> protocol <span style="color:#f92672">(</span>p <span style="color:#f92672">=</span> TCP|UDP<span style="color:#f92672">)</span> states by name<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>.
  -u s   exclude<span style="color:#f92672">(</span>^<span style="color:#f92672">)</span>|<span style="color:#66d9ef">select</span> login|UID set s
  -x <span style="color:#f92672">[</span>fl<span style="color:#f92672">]</span> cross over +d|+D File systems or symbolic Links
  names  <span style="color:#66d9ef">select</span> named files or files on named file systems
Anyone can list all files; /dev warnings disabled; kernel ID check disabled.
</code></pre></div>
      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="/posts/linux/command/2020-09-11-lsblk/">
                <span class="button__icon">←</span>
                <span class="button__text">lsblk command</span>
            </a>
        </span>
        
        
        <span class="button next">
            <a href="/posts/linux/command/2020-09-07-fd/">
                <span class="button__text">fd command</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2022 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>







  
</div>

</body>
</html>
