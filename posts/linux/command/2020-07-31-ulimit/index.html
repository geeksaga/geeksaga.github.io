<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>ulimit command :: Terminal</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="ulimit command description" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/linux/command/2020-07-31-ulimit/" />




<link rel="stylesheet" href="/assets/style.css">






<link rel="apple-touch-icon" href="/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="ulimit command">
<meta property="og:description" content="ulimit command description" />
<meta property="og:url" content="/posts/linux/command/2020-07-31-ulimit/" />
<meta property="og:site_name" content="Terminal" />

  
    <meta property="og:image" content="/img/favicon/orange.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2020-07-31 00:00:00 &#43;0000 UTC" />












</head>
<body class="orange">


<div class="container full headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Terminal
  </div>
</a>

    </div>
    
      <div class="menu-trigger">menu</div>
    
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/showcase">Showcase</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/showcase">Showcase</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="/posts/linux/command/2020-07-31-ulimit/">ulimit command</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2020-07-31
        
      </span>
    
    
    
  </div>

  
  <span class="post-tags">
    
    #<a href="/tags/command/">command</a>&nbsp;
    
    #<a href="/tags/linux/">linux</a>&nbsp;
    
    #<a href="/tags/ulimit/">ulimit</a>&nbsp;
    
  </span>
  
  


  

  <div class="post-content"><div>
        <p>linux의 ulimit 명령은 프로세스의 자원 한도를 설정하는 명령어 입니다.</p>
<p>보여 주는 형식은 Linux 또는 커널 버전 마다 다르지만 보여주는 내용은 비슷 합니다.</p>
<p>제한 설정은 soft 또는 hard로 나누어 집니다.</p>
<p><code>soft</code> : 프로그램을 새로 시작하면 기본으로 적용되는 제한.
<code>hard</code> : <code>soft</code>에서 설정할 수 있는 최대 제한.</p>
<h3 id="centos-or-ubuntu-20x-lts">CentOS or Ubuntu 20.x LTS<a href="#centos-or-ubuntu-20x-lts" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$&gt; ulimit -a
core file size          <span style="color:#f92672">(</span>blocks, -c<span style="color:#f92672">)</span> <span style="color:#ae81ff">0</span>
data seg size           <span style="color:#f92672">(</span>kbytes, -d<span style="color:#f92672">)</span> unlimited
scheduling priority             <span style="color:#f92672">(</span>-e<span style="color:#f92672">)</span> <span style="color:#ae81ff">0</span>
file size               <span style="color:#f92672">(</span>blocks, -f<span style="color:#f92672">)</span> unlimited
pending signals                 <span style="color:#f92672">(</span>-i<span style="color:#f92672">)</span> <span style="color:#ae81ff">3560</span>
max locked memory       <span style="color:#f92672">(</span>kbytes, -l<span style="color:#f92672">)</span> <span style="color:#ae81ff">64</span>
max memory size         <span style="color:#f92672">(</span>kbytes, -m<span style="color:#f92672">)</span> unlimited
open files                      <span style="color:#f92672">(</span>-n<span style="color:#f92672">)</span> <span style="color:#ae81ff">1024</span>
pipe size            <span style="color:#f92672">(</span><span style="color:#ae81ff">512</span> bytes, -p<span style="color:#f92672">)</span> <span style="color:#ae81ff">8</span>
POSIX message queues     <span style="color:#f92672">(</span>bytes, -q<span style="color:#f92672">)</span> <span style="color:#ae81ff">819200</span>
real-time priority              <span style="color:#f92672">(</span>-r<span style="color:#f92672">)</span> <span style="color:#ae81ff">0</span>
stack size              <span style="color:#f92672">(</span>kbytes, -s<span style="color:#f92672">)</span> <span style="color:#ae81ff">8192</span>
cpu time               <span style="color:#f92672">(</span>seconds, -t<span style="color:#f92672">)</span> unlimited
max user processes              <span style="color:#f92672">(</span>-u<span style="color:#f92672">)</span> <span style="color:#ae81ff">3560</span>
virtual memory          <span style="color:#f92672">(</span>kbytes, -v<span style="color:#f92672">)</span> unlimited
file locks                      <span style="color:#f92672">(</span>-x<span style="color:#f92672">)</span> unlimited
</code></pre></div><h3 id="mint-or-ubuntu-18x-lts">Mint or Ubuntu 18.x LTS<a href="#mint-or-ubuntu-18x-lts" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$&gt; ulimit -a
-t: cpu time <span style="color:#f92672">(</span>seconds<span style="color:#f92672">)</span>              unlimited
-f: file size <span style="color:#f92672">(</span>blocks<span style="color:#f92672">)</span>              unlimited
-d: data seg size <span style="color:#f92672">(</span>kbytes<span style="color:#f92672">)</span>          unlimited
-s: stack size <span style="color:#f92672">(</span>kbytes<span style="color:#f92672">)</span>             <span style="color:#ae81ff">8192</span>
-c: core file size <span style="color:#f92672">(</span>blocks<span style="color:#f92672">)</span>         <span style="color:#ae81ff">0</span>
-m: resident set size <span style="color:#f92672">(</span>kbytes<span style="color:#f92672">)</span>      unlimited
-u: processes                       <span style="color:#ae81ff">63465</span>
-n: file descriptors                <span style="color:#ae81ff">1024</span>
-l: locked-in-memory size <span style="color:#f92672">(</span>kbytes<span style="color:#f92672">)</span>  <span style="color:#ae81ff">64</span>
-v: address space <span style="color:#f92672">(</span>kbytes<span style="color:#f92672">)</span>          unlimited
-x: file locks                      unlimited
-i: pending signals                 <span style="color:#ae81ff">63465</span>
-q: bytes in POSIX msg queues       <span style="color:#ae81ff">819200</span>
-e: max nice                        <span style="color:#ae81ff">0</span>
-r: max rt priority                 <span style="color:#ae81ff">0</span>
-N 15:                              unlimited
</code></pre></div><h3 id="옵션">옵션<a href="#옵션" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<ul>
<li><code>-a</code> : 모든 제한 값 출력</li>
<li><code>-t cpu time (seconds)</code> : CPU의 초당 사용시간</li>
<li><code>-f file size (blocks)</code> : 쉘에 의해 생성된 파일의 최대 크기</li>
<li><code>-d data seg size (kbytes)</code> : 프로세스의 데이터 세그먼트 최대 크기</li>
<li><code>-s stack size (kbytes)</code> : 스택 최대 크기</li>
<li><code>-c core file size (blocks)</code> : core 파일이 생성될 때 최대 크기</li>
<li><code>-m resident set size (kbytes)</code> : 메모리에 상주 가능한 최대 크기</li>
<li><code>-u processes</code> : 특정 사용자의 사용가능한 프로세스의 최대 개수</li>
<li><code>-n file descriptors</code> : 오픈가능한 FD의 개수
<ul>
<li>too many open file 에러 발생시 해당 값을 조절 할 수 있습니다.</li>
</ul>
</li>
<li><code>-l locked-in-memory size (kbytes)</code> : 메모리에 잠길 수 있는 최대 크기</li>
<li><code>-v address space (kbytes)</code> : 쉘이 사용할 수 있는 가상 메모리 최대 크기</li>
<li><code>-x file locks</code> : 최대 파일 잠금 수</li>
<li><code>-i pending signals</code> : 보류중인 signal의 최대 수</li>
<li><code>-q bytes in POSIX msg queues</code> : POSIX 메시지 대기 큐의 최대 byte 수</li>
<li><code>-e max nice, scheduling priority</code> : 최대 우선 예약 순위</li>
<li><code>-r max rt priority, real-time priority</code> : 최대 실시간 스케줄링 우선 순위</li>
<li><code>-p pipe size</code> : 512 byte 블럭으로 파이프 크기를 설정</li>
<li><code>-N 15</code></li>
</ul>
<h2 id="설정">설정<a href="#설정" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<ul>
<li><code>ulimit</code> 명령어를 통한 설정</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$&gt; ulimit -n
<span style="color:#ae81ff">1024</span>
$&gt; ulimit -n <span style="color:#ae81ff">2048</span>
<span style="color:#ae81ff">2048</span>
</code></pre></div><p>명령어를 통한 설정은 해당 세션에서만 유요합니다.</p>
<ul>
<li><code>/etc/security/limits.conf</code> 파일을 통해 user 별로 영구적인 설정이 가능합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#&lt;domain&gt;      &lt;type&gt;  &lt;item&gt;         &lt;value&gt;</span>
geeksaga       soft    nofile          <span style="color:#ae81ff">2048</span>
geeksaga       hard    nofile          <span style="color:#ae81ff">2048</span>
</code></pre></div><ul>
<li><code>/etc/profile</code>를 통해 로그인 한 세션에 대한 설정을 할 수 있습니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$&gt; vi /etc/profile
...
<span style="color:#75715e"># ulimit setting</span>
ulimt -n <span style="color:#ae81ff">2048</span>     <span style="color:#75715e"># open files</span>
...
$&gt; source /etc/profile

</code></pre></div><h2 id="tldr-ulimit">tldr ulimit<a href="#tldr-ulimit" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$&gt; tldr ulimit

  ulimit

  Get and set user limits.

  - Get the properties of all the user limits:
    ulimit -a

  - Get hard limit <span style="color:#66d9ef">for</span> the number of simultaneously opened files:
    ulimit -H -n

  - Get soft limit <span style="color:#66d9ef">for</span> the number of simultaneously opened files:
    ulimit -S -n

  - Set max per-user process limit:
    ulimit -u <span style="color:#ae81ff">30</span>
</code></pre></div><h2 id="참고-링크">참고 링크<a href="#참고-링크" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<ul>
<li><a href="https://www.manpagez.com/man/1/ulimit/" title="ulimit man-page">man-pages</a></li>
</ul>

      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="/posts/linux/command/2020-08-03-watch/">
                <span class="button__icon">←</span>
                <span class="button__text">watch command</span>
            </a>
        </span>
        
        
        <span class="button next">
            <a href="/posts/linux/command/2020-07-30-top/">
                <span class="button__text">top command</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2022 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>







  
</div>

</body>
</html>
