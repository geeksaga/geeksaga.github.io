<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ulimit on Terminal</title>
    <link>/tags/ulimit/</link>
    <description>Recent content in ulimit on Terminal</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Fri, 31 Jul 2020 00:00:00 +0000</lastBuildDate><atom:link href="/tags/ulimit/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ulimit command</title>
      <link>/posts/linux/command/2020-07-31-ulimit/</link>
      <pubDate>Fri, 31 Jul 2020 00:00:00 +0000</pubDate>
      
      <guid>/posts/linux/command/2020-07-31-ulimit/</guid>
      <description>linux의 ulimit 명령은 프로세스의 자원 한도를 설정하는 명령어 입니다.
보여 주는 형식은 Linux 또는 커널 버전 마다 다르지만 보여주는 내용은 비슷 합니다.
제한 설정은 soft 또는 hard로 나누어 집니다.
soft : 프로그램을 새로 시작하면 기본으로 적용되는 제한. hard : soft에서 설정할 수 있는 최대 제한.
CentOS or Ubuntu 20.x LTS $&amp;gt; ulimit -a core file size (blocks, -c) 0 data seg size (kbytes, -d) unlimited scheduling priority (-e) 0 file size (blocks, -f) unlimited pending signals (-i) 3560 max locked memory (kbytes, -l) 64 max memory size (kbytes, -m) unlimited open files (-n) 1024 pipe size (512 bytes, -p) 8 POSIX message queues (bytes, -q) 819200 real-time priority (-r) 0 stack size (kbytes, -s) 8192 cpu time (seconds, -t) unlimited max user processes (-u) 3560 virtual memory (kbytes, -v) unlimited file locks (-x) unlimited Mint or Ubuntu 18.</description>
      <content>&lt;p&gt;linux의 ulimit 명령은 프로세스의 자원 한도를 설정하는 명령어 입니다.&lt;/p&gt;
&lt;p&gt;보여 주는 형식은 Linux 또는 커널 버전 마다 다르지만 보여주는 내용은 비슷 합니다.&lt;/p&gt;
&lt;p&gt;제한 설정은 soft 또는 hard로 나누어 집니다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;soft&lt;/code&gt; : 프로그램을 새로 시작하면 기본으로 적용되는 제한.
&lt;code&gt;hard&lt;/code&gt; : &lt;code&gt;soft&lt;/code&gt;에서 설정할 수 있는 최대 제한.&lt;/p&gt;
&lt;h3 id=&#34;centos-or-ubuntu-20x-lts&#34;&gt;CentOS or Ubuntu 20.x LTS&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$&amp;gt; ulimit -a
core file size          &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;blocks, -c&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
data seg size           &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;kbytes, -d&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; unlimited
scheduling priority             &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;-e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
file size               &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;blocks, -f&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; unlimited
pending signals                 &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;-i&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3560&lt;/span&gt;
max locked memory       &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;kbytes, -l&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;64&lt;/span&gt;
max memory size         &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;kbytes, -m&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; unlimited
open files                      &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;-n&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;
pipe size            &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;512&lt;/span&gt; bytes, -p&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;
POSIX message queues     &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;bytes, -q&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;819200&lt;/span&gt;
real-time priority              &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;-r&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
stack size              &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;kbytes, -s&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8192&lt;/span&gt;
cpu time               &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;seconds, -t&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; unlimited
max user processes              &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;-u&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3560&lt;/span&gt;
virtual memory          &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;kbytes, -v&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; unlimited
file locks                      &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;-x&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; unlimited
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;mint-or-ubuntu-18x-lts&#34;&gt;Mint or Ubuntu 18.x LTS&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$&amp;gt; ulimit -a
-t: cpu time &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;seconds&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;              unlimited
-f: file size &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;blocks&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;              unlimited
-d: data seg size &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;kbytes&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;          unlimited
-s: stack size &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;kbytes&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;             &lt;span style=&#34;color:#ae81ff&#34;&gt;8192&lt;/span&gt;
-c: core file size &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;blocks&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;         &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
-m: resident set size &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;kbytes&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;      unlimited
-u: processes                       &lt;span style=&#34;color:#ae81ff&#34;&gt;63465&lt;/span&gt;
-n: file descriptors                &lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;
-l: locked-in-memory size &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;kbytes&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;64&lt;/span&gt;
-v: address space &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;kbytes&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;          unlimited
-x: file locks                      unlimited
-i: pending signals                 &lt;span style=&#34;color:#ae81ff&#34;&gt;63465&lt;/span&gt;
-q: bytes in POSIX msg queues       &lt;span style=&#34;color:#ae81ff&#34;&gt;819200&lt;/span&gt;
-e: max nice                        &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
-r: max rt priority                 &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
-N 15:                              unlimited
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;옵션&#34;&gt;옵션&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-a&lt;/code&gt; : 모든 제한 값 출력&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-t cpu time (seconds)&lt;/code&gt; : CPU의 초당 사용시간&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-f file size (blocks)&lt;/code&gt; : 쉘에 의해 생성된 파일의 최대 크기&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-d data seg size (kbytes)&lt;/code&gt; : 프로세스의 데이터 세그먼트 최대 크기&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-s stack size (kbytes)&lt;/code&gt; : 스택 최대 크기&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-c core file size (blocks)&lt;/code&gt; : core 파일이 생성될 때 최대 크기&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-m resident set size (kbytes)&lt;/code&gt; : 메모리에 상주 가능한 최대 크기&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-u processes&lt;/code&gt; : 특정 사용자의 사용가능한 프로세스의 최대 개수&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-n file descriptors&lt;/code&gt; : 오픈가능한 FD의 개수
&lt;ul&gt;
&lt;li&gt;too many open file 에러 발생시 해당 값을 조절 할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-l locked-in-memory size (kbytes)&lt;/code&gt; : 메모리에 잠길 수 있는 최대 크기&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-v address space (kbytes)&lt;/code&gt; : 쉘이 사용할 수 있는 가상 메모리 최대 크기&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-x file locks&lt;/code&gt; : 최대 파일 잠금 수&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-i pending signals&lt;/code&gt; : 보류중인 signal의 최대 수&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-q bytes in POSIX msg queues&lt;/code&gt; : POSIX 메시지 대기 큐의 최대 byte 수&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-e max nice, scheduling priority&lt;/code&gt; : 최대 우선 예약 순위&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-r max rt priority, real-time priority&lt;/code&gt; : 최대 실시간 스케줄링 우선 순위&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-p pipe size&lt;/code&gt; : 512 byte 블럭으로 파이프 크기를 설정&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-N 15&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;설정&#34;&gt;설정&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ulimit&lt;/code&gt; 명령어를 통한 설정&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$&amp;gt; ulimit -n
&lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;
$&amp;gt; ulimit -n &lt;span style=&#34;color:#ae81ff&#34;&gt;2048&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;2048&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;명령어를 통한 설정은 해당 세션에서만 유요합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/etc/security/limits.conf&lt;/code&gt; 파일을 통해 user 별로 영구적인 설정이 가능합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#&amp;lt;domain&amp;gt;      &amp;lt;type&amp;gt;  &amp;lt;item&amp;gt;         &amp;lt;value&amp;gt;&lt;/span&gt;
geeksaga       soft    nofile          &lt;span style=&#34;color:#ae81ff&#34;&gt;2048&lt;/span&gt;
geeksaga       hard    nofile          &lt;span style=&#34;color:#ae81ff&#34;&gt;2048&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/etc/profile&lt;/code&gt;를 통해 로그인 한 세션에 대한 설정을 할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$&amp;gt; vi /etc/profile
...
&lt;span style=&#34;color:#75715e&#34;&gt;# ulimit setting&lt;/span&gt;
ulimt -n &lt;span style=&#34;color:#ae81ff&#34;&gt;2048&lt;/span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;# open files&lt;/span&gt;
...
$&amp;gt; source /etc/profile

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;tldr-ulimit&#34;&gt;tldr ulimit&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$&amp;gt; tldr ulimit

  ulimit

  Get and set user limits.

  - Get the properties of all the user limits:
    ulimit -a

  - Get hard limit &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; the number of simultaneously opened files:
    ulimit -H -n

  - Get soft limit &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; the number of simultaneously opened files:
    ulimit -S -n

  - Set max per-user process limit:
    ulimit -u &lt;span style=&#34;color:#ae81ff&#34;&gt;30&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;참고-링크&#34;&gt;참고 링크&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.manpagez.com/man/1/ulimit/&#34; title=&#34;ulimit man-page&#34;&gt;man-pages&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    </item>
    
  </channel>
</rss>
