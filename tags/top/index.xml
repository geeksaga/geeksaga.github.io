<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>top on Terminal</title>
    <link>/tags/top/</link>
    <description>Recent content in top on Terminal</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Thu, 30 Jul 2020 00:00:00 +0000</lastBuildDate><atom:link href="/tags/top/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>top command</title>
      <link>/posts/linux/command/2020-07-30-top/</link>
      <pubDate>Thu, 30 Jul 2020 00:00:00 +0000</pubDate>
      
      <guid>/posts/linux/command/2020-07-30-top/</guid>
      <description>linux의 top 명령을 통해 실시간 수행중인 프로세스들에 대한 정보를 볼 수 있습니다.
top 자체 명령어가 많기 때문에 Man page를 이용하면 좋습니다.
$&amp;gt; top top - 15:01:58 up 3 days, 51 min, 1 user, load average: 0.32, 0.21, 0.15 Tasks: 370 total, 1 running, 298 sleeping, 0 stopped, 0 zombie %Cpu(s): 1.6 us, 1.0 sy, 0.0 ni, 97.4 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st KiB Mem : 16309896 total, 5783464 free, 5049060 used, 5477372 buff/cache KiB Swap: 16658428 total, 16234492 free, 423936 used.</description>
      <content>&lt;p&gt;linux의 top 명령을 통해 실시간 수행중인 프로세스들에 대한 정보를 볼 수 있습니다.&lt;/p&gt;
&lt;p&gt;top 자체 명령어가 많기 때문에 Man page를 이용하면 좋습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$&amp;gt; top
top - 15:01:58 up &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; days, &lt;span style=&#34;color:#ae81ff&#34;&gt;51&lt;/span&gt; min,  &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; user,  load average: 0.32, 0.21, 0.15
Tasks: &lt;span style=&#34;color:#ae81ff&#34;&gt;370&lt;/span&gt; total,   &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; running, &lt;span style=&#34;color:#ae81ff&#34;&gt;298&lt;/span&gt; sleeping,   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; stopped,   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; zombie
%Cpu&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;:  1.6 us,  1.0 sy,  0.0 ni, 97.4 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem : &lt;span style=&#34;color:#ae81ff&#34;&gt;16309896&lt;/span&gt; total,  &lt;span style=&#34;color:#ae81ff&#34;&gt;5783464&lt;/span&gt; free,  &lt;span style=&#34;color:#ae81ff&#34;&gt;5049060&lt;/span&gt; used,  &lt;span style=&#34;color:#ae81ff&#34;&gt;5477372&lt;/span&gt; buff/cache
KiB Swap: &lt;span style=&#34;color:#ae81ff&#34;&gt;16658428&lt;/span&gt; total, &lt;span style=&#34;color:#ae81ff&#34;&gt;16234492&lt;/span&gt; free,   &lt;span style=&#34;color:#ae81ff&#34;&gt;423936&lt;/span&gt; used. &lt;span style=&#34;color:#ae81ff&#34;&gt;10597528&lt;/span&gt; avail Mem 

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
&lt;span style=&#34;color:#ae81ff&#34;&gt;15846&lt;/span&gt; geeksaga  &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8653140&lt;/span&gt; 2.064g &lt;span style=&#34;color:#ae81ff&#34;&gt;115348&lt;/span&gt; S   7.6 13.3  19:31.57 java
 &lt;span style=&#34;color:#ae81ff&#34;&gt;1840&lt;/span&gt; root      &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;524728&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;57744&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;40812&lt;/span&gt; S   3.6  0.4 261:11.12 Xorg
 &lt;span style=&#34;color:#ae81ff&#34;&gt;3786&lt;/span&gt; geeksga   &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;545492&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;42624&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;15772&lt;/span&gt; S   2.3  0.3   4:47.24 gnome-terminal-
 &lt;span style=&#34;color:#ae81ff&#34;&gt;1394&lt;/span&gt; root      &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;4396&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;1260&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;1228&lt;/span&gt; S   0.7  0.0   1:13.78 acpid
 &lt;span style=&#34;color:#ae81ff&#34;&gt;1933&lt;/span&gt; root     -51   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;       &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;      &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;      &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; S   0.7  0.0  50:49.49 irq/33-nvidia
 &lt;span style=&#34;color:#ae81ff&#34;&gt;3816&lt;/span&gt; geeksaga  &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;121736&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;20556&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;6540&lt;/span&gt; S   0.7  0.1   0:04.53 nvim
&lt;span style=&#34;color:#ae81ff&#34;&gt;17283&lt;/span&gt; geeksaga  &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;43364&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;4120&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;3240&lt;/span&gt; S   0.7  0.0   0:04.90 top
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;위에 출력된 내용은 부분별로 다음 정보를 의미 합니다.&lt;/p&gt;
&lt;h3 id=&#34;uptime--load-averages&#34;&gt;UPTIME &amp;amp; LOAD Averages&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;top - 15:01:58 up 3 days, 51 min,  1 user,  load average: 0.32, 0.21, 0.15&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;../uptime/&#34; title=&#34;uptime&#34;&gt;uptime&lt;/a&gt; 부분에서 설명한 내용과 동일합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;task--cpu-states&#34;&gt;TASK &amp;amp; CPU States&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Tasks: 370 total,   1 running, 298 sleeping,   0 stopped,   0 zombie&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;전체 실행 중인 프로세스 개수를 total, running, sleeping, stopped, zombie로 구분하여 보여줍니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;%Cpu(s):  1.6 us,  1.0 sy,  0.0 ni, 97.4 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;us, user&lt;/code&gt; : &lt;code&gt;un-niced&lt;/code&gt;가 아닌 user 프로세스 사용률&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sy, system&lt;/code&gt; : 시스템(kernel)이 프로세스 사용률&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ni, nice&lt;/code&gt; : &lt;code&gt;niced&lt;/code&gt; user 프로세스 사용률&lt;/li&gt;
&lt;li&gt;&lt;code&gt;id, idle&lt;/code&gt; : 시스템(kernel)이 일하지 않는 시간 비율&lt;/li&gt;
&lt;li&gt;&lt;code&gt;wa, IO-wait&lt;/code&gt; : I/O를 기다리는 비율&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hi, Hard Interrupt&lt;/code&gt; : 하드웨어 인터럽트에 소요된 시간 비율&lt;/li&gt;
&lt;li&gt;&lt;code&gt;si, Soft Interrupt&lt;/code&gt; : 소프트웨어 인터럽트에 소요 시간 비율&lt;/li&gt;
&lt;li&gt;&lt;code&gt;st, Steal Time&lt;/code&gt; : 가상화 시스템에서 실제 CPU를 할당받기 위해 기다리는 시간 비율&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;memory-usage&#34;&gt;MEMORY Usage&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;KiB Mem : 16309896 total,  2533064 free,  6246652 used,  7530180 buff/cache&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;물리 메모리의 total, free, used, buff/cache를 나타낸다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;KiB Swap: 16658428 total, 16244476 free,   413952 used.  9316720 avail Mem&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;가강 메모리의 total, free, used, avail Mem(물리 메모리)를 나타낸다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;fields--columns&#34;&gt;FIELDS / Columns&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;PID -- Process ID&lt;/code&gt; : 프로세스 아이디&lt;/li&gt;
&lt;li&gt;&lt;code&gt;USER&lt;/code&gt; : 프로세스를 실행시킨 사용자 아이디&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PR -- Priority&lt;/code&gt; : 프로세스 우선순위&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NI -- Nice&lt;/code&gt; : Nice 값을 나타내며, 음수를 가지는 값이 우선순위가 높다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;VIRT -- Virtual Memory Size (KiB)&lt;/code&gt; : 프로세스가 사용하고 있는 전체 가상 메모리 사용량&lt;/li&gt;
&lt;li&gt;&lt;code&gt;RES -- Resident Memory Size (KiB)&lt;/code&gt; : 스왑되지 않고 프로세스가 실제 사용중인 물리 메모리&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SHR -- Shared Memory Size (KiB)&lt;/code&gt; : 다른 프로세스와 공유할 수 있는 메모리의 크기를 나타낸다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;S -- Process Status&lt;/code&gt; : 프로세스 상태
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;D&lt;/code&gt; = uninterruptible sleep(I/O 작업을 위한 대기 상태)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;R&lt;/code&gt; = running(CPU 자원을 사용중)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;S&lt;/code&gt; = sleeping&lt;/li&gt;
&lt;li&gt;&lt;code&gt;T&lt;/code&gt; = stopped by job control signal&lt;/li&gt;
&lt;li&gt;&lt;code&gt;t&lt;/code&gt; = stopped by debugger during trace&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Z&lt;/code&gt; = zombie(부모 프로세스가 죽은 자식 프로세스)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;%CPU -- CPU Usage&lt;/code&gt; : 프로세스가 사용하는 CPU의 사용률&lt;/li&gt;
&lt;li&gt;&lt;code&gt;%MEM -- Memory Usage (RES)&lt;/code&gt; : 프로세스가 사용하는 메모리 사용률&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TIME+ -- CPU Time, bundredths&lt;/code&gt; : 프로세스가 시작된 이후 경과된 시간&lt;/li&gt;
&lt;li&gt;&lt;code&gt;COMMAND -- Command Name or Command Line&lt;/code&gt; : 실행된 명령어&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;유용한-옵션들&#34;&gt;유용한 옵션들&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-i&lt;/code&gt; : idle 또는 zombie 프로세스를 제외하고 프로세스 목록을 보여 줍니다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-u user_name&lt;/code&gt; : 사용자 명을 입력하면 프로세스를 실행 시킨 사용자 목록만 볼 수 있습니다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-p&lt;/code&gt; : PIDs를 입력하여 해당 프로세스에 대해서만 볼 수 있습니다.(PID 목록은 &lt;code&gt;,&lt;/code&gt;로 구분 합니다.)
&lt;ul&gt;
&lt;li&gt;ex) top -p 15846,1840,1933&lt;/li&gt;
&lt;li&gt;ex) top -p $(pgrep -d &amp;lsquo;,&amp;rsquo; process_name)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-b&lt;/code&gt; : Batch-mode로 동작합니다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-n&lt;/code&gt; : top 명령어가 반복된 횟수를 설정 합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;top-실행-후-명령어들&#34;&gt;top 실행 후 명령어들&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;1&lt;/code&gt; : Cpu States를 Core 별로 보여 준다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;k&lt;/code&gt; : 프로세스를 kill 한다. PID를 입력하면 signal을 전송한다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;f&lt;/code&gt; : 화면에 표시될 프로세스 관련 컬럼 설정을 할 수 있다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;z&lt;/code&gt; : 색상 변경&lt;/li&gt;
&lt;li&gt;&lt;code&gt;c&lt;/code&gt; : Command 옵션 값 표시&lt;/li&gt;
&lt;li&gt;&lt;code&gt;q&lt;/code&gt; : &lt;code&gt;top&lt;/code&gt; 프로그램 종료&lt;/li&gt;
&lt;li&gt;&lt;code&gt;d [sec]&lt;/code&gt; : 설정된 단위로 딜레이 설정(화면 Refresh)&lt;/li&gt;
&lt;li&gt;&amp;lsquo;shift + n&amp;rsquo; : &lt;code&gt;PID&lt;/code&gt; 컬럼으로 내림차순&lt;/li&gt;
&lt;li&gt;&amp;lsquo;shift + p&amp;rsquo; : &lt;code&gt;%CPU&lt;/code&gt; 컬럼으로 내림차순&lt;/li&gt;
&lt;li&gt;&amp;lsquo;shift + m&amp;rsquo; : &lt;code&gt;%MEM&lt;/code&gt; 컬럼으로 내림차순&lt;/li&gt;
&lt;li&gt;&amp;lsquo;shift + t&amp;rsquo; : &lt;code&gt;TIME+&lt;/code&gt; 컬럼으로 내림차순&lt;/li&gt;
&lt;li&gt;&amp;lsquo;shift + r&amp;rsquo; :  정렬 기준을 반대로 변경(내림차순을 오름차순, 오름차순을 내림차순)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;help-top&#34;&gt;help top&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$&amp;gt; top -h 
  procps-ng version 3.3.10
Usage:
  top -hv | -bcHiOSs -d secs -n max -u|U user -p pid&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; -o field -w &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;cols&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;tldr-top&#34;&gt;tldr top&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$&amp;gt; tldr top

  top

  Display dynamic real-time information about running processes.

  - Start top:
    top

  - Do not show any idle or zombie processes:
    top -i

  - Show only processes owned by given user:
    top -u user_name

  - Show only the processes with the given PID&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;, passed as a comma-separated list. &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Normally you wouldn&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;t know PIDs off hand. This example picks the PIDs from the process name):
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    top -p $(pgrep -d &amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt; process_name&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;

  - Get help about interactive commands:
    ?
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;참고-링크&#34;&gt;참고 링크&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://manpages.ubuntu.com/manpages/xenial/man1/top.1.html&#34; title=&#34;top man-page&#34;&gt;man-pages&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    </item>
    
  </channel>
</rss>
